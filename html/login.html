<!DOCTYPE html>
<html>
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="user-scalable=no, width=device-width, initial-scale=1, maximum-scale=1"/>

<title>CrowdSpec</title>

<link rel="shortcut icon" href="/img/favicon.ico"/>
<link rel="stylesheet" href="/css/login.css"/>

<script src="https://www.google.com/recaptcha/api.js" async defer></script>

</head>
<body>

	<h1>CrowdSpec</h1>

	<div class="content-area">

		{{if eq .Error 403}}
		<p class="error">Invalid login</p>
		{{else if eq .Error 418}}
		<p class="error">Invalid reCAPTCHA</p>
		{{else if eq .Error 400}}
		<p class="error">Bad request</p>
		{{else if eq .Error 500}}
		<p class="error">Server error</p>
		{{end}}

		<form id="form" action="/login" method="POST">
			<table>
				<tr>
					<td><label for="username">Username</label></td>
					<td><input id="username" name="username" type="text" maxlength="50" autocapitalize="none"/></td>
				</tr>
				<tr>
					<td><label for="password">Password</label></td>
					<td><input id="password" name="password" type="password" autocapitalize="none"/></td>
				</tr>
				<tr>
					<td colspan="2">
						<div class="g-recaptcha"
							data-sitekey="{{.SiteKey}}"
							data-callback="recaptchaSuccess"
							data-expired-callback="recaptchaExpired"
							data-error-callback="recaptchaError"></div>
					</td>
				</tr>
				<tr>
					<td></td>
					<td><button id="submitButton" type="submit" disabled>Log in</button></td>
				</tr>
			</table>
		</form>

		<p><a href="/request-password-reset">Request password reset</a></p>

	</div>

	<script src="/js/login.js"></script>

</body>
</html>
